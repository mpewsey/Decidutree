<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Decidutree: Decidutree</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Decidutree
   </div>
   <div id="projectbrief">A component based behavior tree for Unity.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Decidutree </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md__github_workspace_README"></a> A component based behavior tree for Unity.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Installation</h1>
<p >To add the package to a project, in Unity, select <code>Window &gt; Package Manager</code>.</p>
<p ><img src="https://user-images.githubusercontent.com/23442063/163601100-191d8699-f4fd-42cc-96d4-f6aa5a8ae29b.png" alt="Unity Package Manager" class="inline"/></p>
<p >Select <code>Add package from git URL...</code> and paste the following URL:</p>
<div class="fragment"><div class="line">https://github.com/mpewsey/Decidutree.git</div>
</div><!-- fragment --><p >RECOMMENDED: To lock into a specific version, append <code>#{VERSION_TAG}</code> to the end of the URL. For example:</p>
<div class="fragment"><div class="line">https://github.com/mpewsey/Decidutree.git#v1.0.0</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2"></a>
Usage</h1>
<p >The behavior tree in this library consists of component behavior nodes and behavior subnodes that are added to Game Objects in the Unity hierarchy view.</p>
<p ><img src="https://user-images.githubusercontent.com/23442063/209605129-62bda02a-cdcb-4723-a429-d53fa3e4915c.png" alt="Behavior Tree Heirarchy" class="inline"/></p>
<ul>
<li>To create a tree, create the root behavior tree component via <code>GameObject &gt; Behavior Tree &gt; Behavior Tree</code>.</li>
<li>Next, add behavior nodes as children of the tree (and children of those children, as the behavior requires) via the <code>GameObject &gt; Behavior Tree</code> menu.</li>
<li>In addition, behavior subnode components may be attached to the nodes of the tree. The node will evaluate the attached subnodes like a Sequence node prior to performing its normal <code>OnTick</code> operation. Therefore, subnodes are usually best used as conditions that must be satisfied for a node to run.</li>
<li>Since the behavior tree is no different than any other Unity component, it may be saved as a prefab and instantiated accordingly.</li>
<li>To use the tree, you must first call the <code>Initialize</code> method on the tree instance. Then, evaluating the tree is only a matter of calling its <code>Tick</code> method. Depending on the tree, this may be something you choose to do every frame, such as through an Update method, or more infrequently, only when you need it, such as with turn-based battle AI.</li>
</ul>
<div class="fragment"><div class="line">{TreeTicker.cs} </div>
<div class="line">[RequireComponent(typeof(BehaviorTree))]</div>
<div class="line">public class TreeTicker : MonoBehaviour</div>
<div class="line">{</div>
<div class="line">    public BehaviorTree Tree { get; private set; }</div>
<div class="line">    </div>
<div class="line">    // Get the behavior tree component and initialize it.</div>
<div class="line">    private void Awake()</div>
<div class="line">    {</div>
<div class="line">        Tree = GetComponent&lt;BehaviorTree&gt;();</div>
<div class="line">        Tree.Initialize();</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    // Assuming the tree is AI to be evaluated every frame, tick it in Update.</div>
<div class="line">    private void Update()</div>
<div class="line">    {</div>
<div class="line">        Tree.Tick();</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Creating Custom Behavior</h1>
<p >The library provides some generic nodes. However, to capture any unique behavior you will need to create your own behavior nodes and subnodes.</p>
<ul>
<li>Custom behavior node components should inherit the <code>BehaviorNode</code> class and implement the required abstract methods.</li>
<li>Custom behavior subnode components should inherit the <code>BehaviorSubnode</code> class and implement the required abstract methods.</li>
<li>The nodes of a tree instance share a Blackboard, an object with entries for shared variables. In the node and subnode <code>OnInitialize</code> method, it is often useful to acquire the blackboard entries for the shared variables used by the node, and cache them as properties on the component.</li>
<li>The <code>OnTick</code> method should implement any operations performed by the node. For subnodes, this may simply amount to evaluating a condition, then returning either Success or Failure.</li>
</ul>
<p >The below example implements a custom behavior subnode. The purpose of the subnode is to evaluate whether the current number of ticks called on the tree is even, returning Success if it is, and Failure if it isn't. In the <code>OnInitialize</code> method, it caches the blackboard entry for the tick count, which is incremented separately by another component.</p>
<div class="fragment"><div class="line">{TickCountIsEvenSubnode.cs} </div>
<div class="line">public class TickCountIsEvenSubnode : BehaviorSubnode</div>
<div class="line">{</div>
<div class="line">    public BlackboardEntry&lt;uint&gt; TickCount { get; private set; }</div>
<div class="line"> </div>
<div class="line">    protected override void OnInitialize()</div>
<div class="line">    {</div>
<div class="line">        TickCount = Blackboard.EnsureSetValue(&quot;Tick Count&quot;, 0u);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    protected override BehaviorStatus OnTick()</div>
<div class="line">    {</div>
<div class="line">        if (TickCount.Value % 2 == 0)</div>
<div class="line">            return BehaviorStatus.Success;</div>
<div class="line">        return BehaviorStatus.Failure;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
